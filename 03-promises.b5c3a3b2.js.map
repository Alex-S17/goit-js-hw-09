{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,SAwCtC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACaC,KAAKC,SAAW,GAEpCJ,EAAQ,uBAAqBH,QAAiBC,OAE5CG,EAAK,sBAAoBJ,QAAeC,MAAU,GAErDA,EAAM,G,CAIb,SAASO,EAAUC,GACjBC,EAAAhB,GAASiB,OAAOC,QAAQH,E,CAG1B,SAASI,EAAQC,GACfJ,EAAAhB,GAASiB,OAAOI,QAAQD,E,CAzD1BlB,EAAOoB,iBAAiB,UAExB,SAAoBC,GAClBA,EAAMC,iBACN,MAAMC,EAAaC,OAAOH,EAAMI,OAAOpB,MAAMqB,OACvCC,EAAYH,OAAOH,EAAMI,OAAOG,KAAKF,OACrCG,EAASL,OAAOH,EAAMI,OAAOI,OAAOH,OAG1C,IAAIrB,EAAQkB,EACZ,IAAK,IAAIO,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAC5BA,EAAI,IACNzB,GAAgBsB,GAElBxB,EAAc2B,EAAGzB,GACd0B,KAAKnB,GACLoB,MAAMf,GAGXR,YAAW,KACT,MAAMwB,EAAWhC,SAASiC,cAAc,MACxCD,EAASE,YAAc,mBACvBF,EAASG,MAAMC,MAAQ,QACvBJ,EAASG,MAAME,WAAa,OAC5BL,EAASG,MAAMG,YAAc,OAC7BN,EAASG,MAAMI,UAAY,QAC3BP,EAASG,MAAMK,MAAQ,MACvBR,EAASG,MAAMM,gBAAkB,OACjCT,EAASG,MAAMO,SAAW,OAC1BV,EAASG,MAAMQ,UAAY,SAC3B5C,EAAO6C,MAAMZ,EAAS,GACrB5B,EAAQ,KAEXI,YAAW,KACIR,SAASC,cAAc,MAC/B4C,QAAQ,GACZzC,EAAQ,I","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nformEl.addEventListener('submit', formHandle);\n\nfunction formHandle(event) {\n  event.preventDefault();\n  const firstDelay = Number(event.target.delay.value);\n  const delayStep = Number(event.target.step.value);\n  const amount = Number(event.target.amount.value);\n\n// Promise creation unit\n  let delay = firstDelay;\n  for (let i = 1; i <= amount; i += 1) {    \n    if (i > 1) {\n      delay = delay + delayStep;\n    }\n    createPromise(i, delay)\n      .then(onSuccess)\n      .catch(onError);\n  }\n \n  setTimeout(() => {\n    const endTitle = document.createElement('h1');\n    endTitle.textContent = \"That's all Folks\";\n    endTitle.style.width = \"600px\";\n    endTitle.style.marginLeft = \"auto\";\n    endTitle.style.marginRight = \"auto\";\n    endTitle.style.marginTop = \"200px\";\n    endTitle.style.color = \"red\";\n    endTitle.style.backgroundColor = \"lime\";\n    endTitle.style.fontSize = \"60px\";\n    endTitle.style.textAlign = \"center\";\n    formEl.after(endTitle);\n  }, delay + 1000);\n  \n  setTimeout(() => {\n    const h1El = document.querySelector('h1');\n    h1El.remove();\n  }, delay + 4000);\n}\n      \nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay);\n  });  \n};\n\nfunction onSuccess(result) {\n  Notiflix.Notify.success(result);  \n}\n\nfunction onError(error) {\n  Notiflix.Notify.failure(error);\n}\n\n"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$formEl","document","querySelector","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","$47d4ff9957288465$var$onSuccess","result","$parcel$interopDefault","Notify","success","$47d4ff9957288465$var$onError","error","failure","addEventListener","event","preventDefault","firstDelay","Number","target","value","delayStep","step","amount","i","then","catch","endTitle","createElement","textContent","style","width","marginLeft","marginRight","marginTop","color","backgroundColor","fontSize","textAlign","after","remove"],"version":3,"file":"03-promises.b5c3a3b2.js.map"}