{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,SAwCtC,SAASC,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAEpCJ,EAAQ,uBAAwCK,OAAfR,EAAS,QAAYQ,OAANP,EAAM,OAEpDG,EAAK,sBAAqCI,OAAfR,EAAS,QAAYQ,OAANP,EAAM,M,GAEnDA,E,IAIP,SAASQ,EAAUC,GACjBC,EAAAjB,GAASkB,OAAOC,QAAQH,E,CAG1B,SAASI,EAAQC,GACfJ,EAAAjB,GAASkB,OAAOI,QAAQD,E,CAzD1BnB,EAAOqB,iBAAiB,UAExB,SAAoBC,GAClBA,EAAMC,iBAON,IANA,IAAMC,EAAaC,OAAOH,EAAMI,OAAOrB,MAAMsB,OACvCC,EAAYH,OAAOH,EAAMI,OAAOG,KAAKF,OACrCG,EAASL,OAAOH,EAAMI,OAAOI,OAAOH,OAGtCtB,EAAQmB,EACHO,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAC5BA,EAAI,IACN1B,GAAgBuB,GAElBzB,EAAc4B,EAAG1B,GACd2B,KAAKnB,GACLoB,MAAMf,GAGXT,YAAW,WACT,IAAMyB,EAAWjC,SAASkC,cAAc,MACxCD,EAASE,YAAc,mBACvBF,EAASG,MAAMC,MAAQ,QACvBJ,EAASG,MAAME,WAAa,OAC5BL,EAASG,MAAMG,YAAc,OAC7BN,EAASG,MAAMI,UAAY,QAC3BP,EAASG,MAAMK,MAAQ,MACvBR,EAASG,MAAMM,gBAAkB,OACjCT,EAASG,MAAMO,SAAW,OAC1BV,EAASG,MAAMQ,UAAY,SAC3B7C,EAAO8C,MAAMZ,E,GACZ7B,EAAQ,KAEXI,YAAW,WACIR,SAASC,cAAc,MAC/B6C,Q,GACJ1C,EAAQ,I","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst formEl = document.querySelector('.form');\nformEl.addEventListener('submit', formHandle);\n\nfunction formHandle(event) {\n  event.preventDefault();\n  const firstDelay = Number(event.target.delay.value);\n  const delayStep = Number(event.target.step.value);\n  const amount = Number(event.target.amount.value);\n\n// Promise creation unit\n  let delay = firstDelay;\n  for (let i = 1; i <= amount; i += 1) {    \n    if (i > 1) {\n      delay = delay + delayStep;\n    }\n    createPromise(i, delay)\n      .then(onSuccess)\n      .catch(onError);\n  }\n \n  setTimeout(() => {\n    const endTitle = document.createElement('h1');\n    endTitle.textContent = \"That's all Folks\";\n    endTitle.style.width = \"600px\";\n    endTitle.style.marginLeft = \"auto\";\n    endTitle.style.marginRight = \"auto\";\n    endTitle.style.marginTop = \"200px\";\n    endTitle.style.color = \"red\";\n    endTitle.style.backgroundColor = \"lime\";\n    endTitle.style.fontSize = \"60px\";\n    endTitle.style.textAlign = \"center\";\n    formEl.after(endTitle);\n  }, delay + 1000);\n  \n  setTimeout(() => {\n    const h1El = document.querySelector('h1');\n    h1El.remove();\n  }, delay + 4000);\n}\n      \nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, delay);\n  });  \n};\n\nfunction onSuccess(result) {\n  Notiflix.Notify.success(result);  \n}\n\nfunction onError(error) {\n  Notiflix.Notify.failure(error);\n}\n\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$formEl","document","querySelector","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","concat","$ce04d3a99e08e73b$var$onSuccess","result","$parcel$interopDefault","Notify","success","$ce04d3a99e08e73b$var$onError","error","failure","addEventListener","event","preventDefault","firstDelay","Number","target","value","delayStep","step","amount","i","then","catch","endTitle","createElement","textContent","style","width","marginLeft","marginRight","marginTop","color","backgroundColor","fontSize","textAlign","after","remove"],"version":3,"file":"03-promises.9509573e.js.map"}